{% extends "superadmin/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}Delete Challenge | Admin Dashboard{% endblock %}

{% block dashboard_title %}Delete Challenge{% endblock %}

{% block dashboard_content %}
<div class="mb-4">
  <a href="{% url 'superadmin:challenges' %}" class="btn btn-outline-secondary">
    <i class="fas fa-arrow-left me-2"></i> Back to Challenges
  </a>
</div>

<div class="card dashboard-card">
  <div class="card-header">
    <h5 class="mb-0">Confirm Deletion</h5>
  </div>
  <div class="card-body">
    <div class="alert alert-danger">
      <h5><i class="fas fa-exclamation-triangle me-2"></i> Warning</h5>
      <p>You are about to delete the challenge "<strong>{{ challenge.name }}</strong>".</p>
      <p>This action cannot be undone and will remove:</p>
      <ul>
        <li>The challenge itself</li>
        <li>All associated flags</li>
        <li>All challenge files</li>
        <li>All submission records for this challenge</li>
      </ul>
    </div>
    
    <div class="card mb-4">
      <div class="card-header">
        <h6 class="mb-0">Challenge Information</h6>
      </div>
      <div class="card-body">
        <dl class="row mb-0">
          <dt class="col-sm-3">Name</dt>
          <dd class="col-sm-9">{{ challenge.name }}</dd>
          
          <dt class="col-sm-3">Category</dt>
          <dd class="col-sm-9">{{ challenge.category.name }}</dd>
          
          <dt class="col-sm-3">Points</dt>
          <dd class="col-sm-9">{{ challenge.points }}</dd>
          
          <dt class="col-sm-3">Status</dt>
          <dd class="col-sm-9">
            {% if challenge.is_active %}
              <span class="badge bg-success">Active</span>
            {% else %}
              <span class="badge bg-secondary">Inactive</span>
            {% endif %}
          </dd>
          
          <dt class="col-sm-3">Created By</dt>
          <dd class="col-sm-9">{{ challenge.created_by.username }}</dd>
          
          <dt class="col-sm-3">Created At</dt>
          <dd class="col-sm-9">{{ challenge.created_at|date:"F j, Y, g:i a" }}</dd>
        </dl>
      </div>
    </div>
    
    <form method="post">
      {% csrf_token %}
      <div class="d-flex justify-content-between">
        <a href="{% url 'superadmin:challenge_detail' challenge.id %}" class="btn btn-outline-secondary">
          Cancel
        </a>
        <button type="submit" class="btn btn-danger">
          <i class="fas fa-trash me-1"></i> Permanently Delete Challenge
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
